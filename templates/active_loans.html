{% extends "admin.html" %}
{% block title %}Active Loans{% endblock %}

<!-- Head -->
{% block head %}
<style>
    #mySidenav a {
        position: absolute;
        left: -80px;
        transition: 0.3s;
        padding: 15px;
        width: 100px;
        text-decoration: none;
        font-size: 20px;
        color: white;
        border-radius: 0 5px 5px 0;
    }

    #mySidenav a:hover {
        left: 0;
    }

    #about {
        top: 20px;
        background-color: #04AA6D;
    }

    #blog {
        top: 80px;
        background-color: #2196F3;
    }

    #projects {
        top: 140px;
        background-color: #f44336;
    }

    #contact {
        top: 200px;
        background-color: #555
    }
</style>
{% endblock %}

<!-- Content -->
{% block content %}
<div class="container">
    <div class="mb-3">
        <form class="row" action="/admin/active" method="POST">
            <div class="form-check pe-3 pt-2 ">
                <input class="form-check-input " type="radio" name="x" id="gridRadios3" value="all" checked>
                <label class="form-check-label " for="gridRadios3">
                    All
                </label>
            </div>
            <div class="form-check pe-3 pt-2 ">
                <input class="form-check-input " type="radio" name="x" id="gridRadios1" value="late">
                <label class="form-check-label " for="gridRadios1">
                    Lates
                </label>
            </div>
            <div class="form-check pe-3 pt-2">
                <input class="form-check-input" type="radio" name="x" id="gridRadios2" value="time">
                <label class="form-check-label" for="gridRadios2">
                    ON TIME
                </label>
            </div>
            <div>
                <button type="submit" style="width: 200px ;">Send</button>
            </div>
        </form>
    </div>
</div>

<div class="container">
    <strong>Active Loans</strong><br>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th class="text-center">#</th>
                <th class="text-center">customer_id</th>
                <th class="text-center">book_id</th>
                <th class="text-center">date_of_start</th>
                <th class="text-center">date_of_return</th>
                <th class="text-center">status</th>
            </tr>
        </thead>
        <tbody>
            {% for c in loans %}
            <tr>
                <td class="text-center">{{c[0]}}</td>
                <td>
                    <button class="btn btn-success w-100" type="button" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasExample{{loop.index+1}}"
                        aria-controls="offcanvasExample{{loop.index+1}}">
                        {{c[1]}}
                    </button>
                    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample{{loop.index+1}}"
                        aria-labelledby="offcanvasExampleLabel">
                        <div class="offcanvas-header">
                            <h5 class="offcanvas-title" id="offcanvasExampleLabel">User Data</h5>
                            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                                aria-label="Close"></button>
                        </div>
                        <div class="offcanvas-body">
                            Name: {{c[6]}}<br>
                            City: {{c[7]}}<br>
                            Birth Day: {{c[8]}}<br>
                            Join date: {{c[9]}}<br>
                            Email: {{c[10]}}<br>
                            Pass: {{c[11]}}<br>
                            Status: {{c[12]}}<br>
                            Pay Status: {{c[13]}}<br>
                        </div>
                </td>
                <td>
                    <button class="btn btn-success w-100" type="button" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasExample3{{loop.index+1}}"
                        aria-controls="offcanvasExample3{{loop.index+1}}">
                        {{c[2]}}
                    </button>
                    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample3{{loop.index+1}}"
                        aria-labelledby="offcanvasExampleLabel">
                        <div class="offcanvas-header">
                            <h5 class="offcanvas-title" id="offcanvasExampleLabel">Book Data</h5>
                            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
                                aria-label="Close"></button>
                        </div>
                        <div class="offcanvas-body">
                            Name :{{c[14]}}<br>
                            Author: {{c[15]}}<br>
                            Category: {{c[16]}}<br>
                            Days to loan: {{c[17]}}<br>
                            Fee per day: {{c[18]}}<br>
                        </div>
                </td>
                <td class="text-center">{{c[3]}}</td>
                <td class="text-center">{{c[4]}}</td>
                <td class="text-center">{{c[5]}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}